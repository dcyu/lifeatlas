
%script{:src => "https://maps.googleapis.com/maps/api/js?key=#{ENV["google_key"]}&sensor=false", :type => "text/javascript"}


%script
  google.maps.event.addDomListener(window, 'load', init);

  function init() {
  // Basic options for a simple Google Map
  // For more options see: https://developers.google.com/maps/documentation/javascript/reference#MapOptions
  var mapOptions = {
  // How zoomed in you want the map to start at (always required)
  zoom: 14,

  // The latitude and longitude to center the map (always required)
  center: new google.maps.LatLng(#{@lat}, #{@lng}),

  // Disables the default Google Maps UI components
  disableDefaultUI: true,
  scrollwheel: true,
  draggable: true,

  // How you would like to style the map. 
  // This is where you would paste any style found on Snazzy Maps.
  styles: [
  {
  "featureType": "water",
  "stylers": [
  {
  "color": "#021019"
  }
  ]
  },
  {
  "featureType": "landscape",
  "stylers": [
  {
  "color": "#08304b"
  }
  ]
  },
  {
  "featureType": "poi",
  "elementType": "geometry",
  "stylers": [
  {
  "color": "#0c4152"
  },
  {
  "lightness": 5
  }
  ]
  },
  {
  "featureType": "road.highway",
  "elementType": "geometry.fill",
  "stylers": [
  {
  "color": "#000000"
  }
  ]
  },
  {
  "featureType": "road.highway",
  "elementType": "geometry.stroke",
  "stylers": [
  {
  "color": "#0b434f"
  },
  {
  "lightness": 25
  }
  ]
  },
  {
  "featureType": "road.arterial",
  "elementType": "geometry.fill",
  "stylers": [
  {
  "color": "#000000"
  }
  ]
  },
  {
  "featureType": "road.arterial",
  "elementType": "geometry.stroke",
  "stylers": [
  {
  "color": "#0b3d51"
  },
  {
  "lightness": 16
  }
  ]
  },
  {
  "featureType": "road.local",
  "elementType": "geometry",
  "stylers": [
  {
  "color": "#000000"
  }
  ]
  },
  {
  "elementType": "labels.text.fill",
  "stylers": [
  {
  "color": "#ffffff"
  }
  ]
  },
  {
  "elementType": "labels.text.stroke",
  "stylers": [
  {
  "color": "#000000"
  },
  {
  "lightness": 13
  }
  ]
  },
  {
  "featureType": "transit",
  "stylers": [
  {
  "color": "#146474"
  }
  ]
  },
  {
  "featureType": "administrative",
  "elementType": "geometry.fill",
  "stylers": [
  {
  "color": "#000000"
  }
  ]
  },
  {
  "featureType": "administrative",
  "elementType": "geometry.stroke",
  "stylers": [
  {
  "color": "#144b53"
  },
  {
  "lightness": 14
  },
  {
  "weight": 1.4
  }
  ]
  }
  ]
  };

  // Get the HTML DOM element that will contain your map 
  // We are using a div with id="map" seen below in the <body>
  var mapElement = document.getElementById('map');

  // Create the Google Map using out element and options defined above
  var map = new google.maps.Map(mapElement, mapOptions);

  // Custom Map Marker Icon - Customize the map-marker.png file to customize your icon
  var myLatLng = new google.maps.LatLng("#{@lat}", #{@lng});
  var marker#{@venue.id} = new google.maps.Marker({
  position: myLatLng,
  map: map,
  });
  }
